import{e as j,h as E,i as R,k as V,n as k,r as s,o as v,q as A,v as H,j as r,B as c}from"./index-CYAzAkrO.js";const L="_container_140td_1",U="_frame_140td_5",d={container:L,frame:U};function S(p){const{meta:{view:t}}=p,[h]=j(),{dashlet:i}=E(),l=R(),u=V(k()),[n,w]=s.useState(),[_,C]=s.useState(0),o=h?.name||t.name||t.resource,f=v(o),m=s.useCallback(()=>{let e=`${o}`;return e&&e.includes("{{")&&(e=f(l())),e??""},[l,o,f]),a=s.useCallback(async()=>{C(e=>e+1),w(()=>m())},[m]),x=A(a);s.useEffect(()=>{x()},[x]),s.useEffect(()=>{i&&u({view:t,onRefresh:a})},[i,t,a,u]),H("html",a);const b=`${n}_${_}`;return r.jsx(c,{flexGrow:1,position:"relative",className:d.container,children:r.jsx(c,{d:"flex",position:"absolute",className:d.frame,children:n&&r.jsx(c,{as:"iframe",title:"HTML View",src:n,w:100,h:100,flex:1},b)})})}export{S as Html};
