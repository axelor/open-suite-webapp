import{r as l,u as d,p as h,F as x,j as f}from"./index-tEJzJsUq.js";import{E as b}from"./echarts-BRJAzt37.js";import"./index-D-6O717d.js";const E={legend:{bottom:5,type:"scroll"},tooltip:{},series:[{name:"",type:"funnel",top:10,bottom:60,width:"80%",min:0,max:100,minSize:"20%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontWeight:"bold"}},data:[]}]};function v(i){const{data:a}=i,[p,u]=l.useState(E),r=d().dir==="rtl";return l.useEffect(()=>{const{xAxis:n,dataset:m,scale:c,series:[{key:o}]=[]}=a;u(h(e=>{if(o&&n){const t=m.map(s=>parseFloat(s[o]));e.series[0].min=Math.min(...t),e.series[0].max=Math.max(...t),e.series[0].data=m.map(s=>({name:s[n],value:s[o]}))}e.series[0][r?"right":"left"]="10%",e.tooltip.valueFormatter=t=>x.decimal(t,{props:{serverType:"DECIMAL",scale:c}})}))},[r,a]),f.jsx(b,{options:p,...i})}export{v as Funnel};
